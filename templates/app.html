<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HYM6103YPL"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HYM6103YPL');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ask me anything!</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/favicon/site.webmanifest">

    <!-- Links -->
    <link rel="stylesheet" href="/static/css/app.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div id="sidebar-seperator"></div>
        <h2 class="text-center">Domain</h2>
        <hr id="domain-hr">
        <div class="d-flex mb-2">
            <button class="btn btn-circle" id="btn-domain-number">
                <p id="domain-number">1</p>
            </button>
            <button class="btn btn-circle" id="btn-domain-number">
                <p id="domain-number">2</p>
            </button>
            <button class="btn btn-circle" id="btn-domain-number">
                <p id="domain-number">3</p>
            </button>
            <button class="btn btn-circle" id="btn-domain-number">
                <p id="domain-number">4</p>
            </button>
            <button class="btn btn-circle" id="btn-domain-number">
                <p id="domain-number">5</p>
            </button>
        </div>
        <div class="domain-info">
            <p><b>Domain: </b><span id="domain-title">Unselected</span></p>
        </div>
        <hr id="domain-info-hr">
        <div class="section-domain-files">
            <div class="domain-file-list mb-4">
                <!-- Domain file list will be populated here dynamically -->
            </div>
        </div>
        <button class="btn btn-custom w-100 mb-3" id="btn-remove-upload" disabled>Remove</button>
        <h4 id="text-selected-files">Selected Files</h4>
        <hr id="second-hr">
        <div class="section-selected-files">
            <div class="selected-file-list mb-3">
                <!-- Selected file list will be populated here dynamically -->
                <div class="file-item">

                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center mb-3" id="button-container">
            <button class="btn mx-2" id="btn-remove-selection" disabled>Remove</button>
            <button class="btn mx-2" id="btn-upload-files" disabled>Upload</button>
        </div>
        <hr id="third-hr">
        <div class="selection-section">
            <i class="fa fa-cloud-upload-alt" id="cloud-icon"></i>
            <p>Select your files and hold them for upload!</p>
            <div class="custom-file-container">
                <button id="btn-select-files" class="btn btn-custom">Select Files</button>
            </div>
            <b>
                <p>PDF, DOCX, TXT &lt; 5MB</p>
            </b>
        </div>
    </div>
    <!-- Center -->
    <div class="container-fluid vh-100">
        <div class="row h-100 g-0">
            <!-- Chat Section -->
            <div class="col chat-section d-flex flex-column">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="colored-div-chat">
                        <h2 class="ragchat-text">ragchat</h2>
                        <div class="container">
                            <button id="feedback-button" class="btn-circle">
                                <i class="fas fa-comment-dots"></i>
                            </button>
                            <button id="theme-switch">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                    fill="#e8eaed">
                                    <path
                                        d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z" />
                                </svg>
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                    fill="#e8eaed">
                                    <path
                                        d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="chat-box flex-grow-1">
                </div>
                <!-- Input Box & Send Button -->
                <div class="d-flex p-3" id="bottom-send-tools">
                    <input type="text" class="form-control me-2" placeholder="Send Message..." id="user-input">
                    <button class="btn-send-message">Send</button>
                </div>
            </div>
            <!-- Resources Section -->
            <div class="col-lg-4 col-md-5 col-sm-12 resource-section">
                <hr class="chat-resource-section-divider">
                <div class="colored-div-resources">
                    <h2 class="text-center">Resources</h2>
                </div>
                <div class="resource-list">
                    <div class="resource-item">
                        <h6><strong id="resource-from-text">Resource:</strong> <span
                                class="document-title"></span></h6>
                        <p class="description"><span class="bullet"><i class="fa-solid fa-arrow-right"></i></span>In
                            order to get a source, you need to import your document and then ask ragchat questions about
                            your document. Then ragchat will show you here the pages and text that it has taken as a
                            source.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Feedback Modal -->
    <div id="feedback-modal" class="feedback-modal">
        <div class="feedback-modal-content">
            <div class="feedback-modal-header">
                <h3>Send Feedback</h3>
                <button class="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="feedback-modal-description">
                <p>Your feedback really helps us get better!</p>
                <p>Please follow these steps:</p>
                <ol>
                    <li>Select the type of your feedback</li>
                    <li>Add your description</li>
                    <li>If it helps explain better, attach a screenshot</li>
                </ol>
            </div>
            <div class="feedback-modal-body">
                <form id="feedback-form">
                    <div class="form-group">
                        <label for="feedback-type">Type</label>
                        <select id="feedback-type" class="form-control">
                            <option value="general">General Feedback</option>
                            <option value="bug">Bug Report</option>
                            <option value="feature">Feature Request</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="feedback-description">Description</label>
                        <textarea 
                            id="feedback-description" 
                            class="form-control" 
                            rows="4" 
                            placeholder="Please describe your feedback or issue..."
                        ></textarea>
                    </div>
                    <div class="form-group">
                        <label for="feedback-screenshot">Screenshot (Optional)</label>
                        <input 
                            type="file" 
                            id="feedback-screenshot" 
                            class="form-control" 
                            accept="image/*"
                        >
                        <small class="form-text">Max size: 2MB</small>
                    </div>
                    <div class="feedback-modal-footer">
                        <button type="button" class="btn-cancel close-modal">Cancel</button>
                        <button type="submit" class="btn-submit">Submit Feedback</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
<!-- Inputs -->
<input type="file" id="file-input" class="file-input" accept=".pdf,.txt,.docx" style="display: none;" multiple>
<!-- Server data-->
<script>
    window.serverData = {
        userId: "{{ user_id }}",
        sessionId: "{{ session_id }}"
    };</script>
<!-- External libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" 
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
<!-- App Scripts -->
<script src="/static/js/app-initializer.js" defer></script>
